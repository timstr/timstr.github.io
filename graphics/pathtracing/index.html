<!DOCTYPE html><html><head><meta charset="UTF-8"><title>About | Path Tracing | Tim's Portfolio</title><link rel="stylesheet" href="/static/styles.css"><link href="https://fonts.googleapis.com/css?family=Fredoka+One|Signika" rel="stylesheet"></head><body><div id="main"><div class="backdrop"></div><div class="maincontainer"><div class="mainbody"><h1 class="mainheader">Tim's Portfolio</h1><div class="tabmenu" style="background-color: rgb(98, 98, 137)"><div class="tabmenu-list" style="background-color: rgb(98, 98, 137);"><a href="/index.html"><div class="tabmenuitem" style="background-color: rgb(255, 255, 255); filter: brightness(90%);"><span class="tabmenuitem-title">About Me</span></div></a><a href="/machine_learning"><div class="tabmenuitem" style="background-color: rgb(255, 255, 255); filter: brightness(90%);"><span class="tabmenuitem-title">Machine Learning</span></div></a><a href="/audio/flosion"><div class="tabmenuitem" style="background-color: rgb(255, 255, 255); filter: brightness(90%);"><span class="tabmenuitem-title">Audio</span></div></a><a href="/graphics/pathtracing/"><div class="tabmenuitem-active" style="background-color: rgb(255, 255, 255); filter: brightness(100%);"><span class="tabmenuitem-title">Graphics</span></div></a><a href="/physics/rigidbodydynamics/"><div class="tabmenuitem" style="background-color: rgb(255, 255, 255); filter: brightness(90%);"><span class="tabmenuitem-title">Physics</span></div></a><a href="/artwork"><div class="tabmenuitem" style="background-color: rgb(255, 255, 255); filter: brightness(90%);"><span class="tabmenuitem-title">Artwork</span></div></a><a href="/personal"><div class="tabmenuitem" style="background-color: rgb(255, 255, 255); filter: brightness(90%);"><span class="tabmenuitem-title">Personal Stuff</span></div></a></div><div class="tabmenu-list" style="background-color: rgb(255, 255, 255);"><a href="/graphics/pathtracing/"><div class="tabmenuitem-active" style="background-color: rgb(221, 221, 221); filter: brightness(100%);"><span class="tabmenuitem-title">Path Tracing</span></div></a><a href="/graphics/fractals2d/"><div class="tabmenuitem" style="background-color: rgb(221, 221, 221); filter: brightness(90%);"><span class="tabmenuitem-title">2D Fractals</span></div></a><a href="/graphics/fractals3d/"><div class="tabmenuitem" style="background-color: rgb(221, 221, 221); filter: brightness(90%);"><span class="tabmenuitem-title">3D Fractals (Old)</span></div></a><a href="/graphics/cellularautomata.html"><div class="tabmenuitem" style="background-color: rgb(221, 221, 221); filter: brightness(90%);"><span class="tabmenuitem-title">Cellular Automata</span></div></a></div><div class="tabmenu-list" style="background-color: rgb(221, 221, 221);"><a href="/graphics/pathtracing/index.html"><div class="tabmenuitem-active" style="background-color: rgb(255, 255, 255); filter: brightness(100%);"><span class="tabmenuitem-title">About</span></div></a><a href="/graphics/pathtracing/gallery.html"><div class="tabmenuitem" style="background-color: rgb(255, 255, 255); filter: brightness(90%);"><span class="tabmenuitem-title">Gallery</span></div></a></div><div class="tab-content" style="background-color: rgb(255, 255, 255)"><h2>Path Tracing</h2><img class="bigimage-img" src="/static/img/pathtracing/blockball05.png"><div class="section"><div class="section-heading"><div class="section-contents"><h2>Overview</h2></div></div><div class="section-body"><div class="section-contents"><h2>How it works</h2><p>Path tracing, like conventional computer rendering, draws 3D objects as seen by a virtual camera by finding where lines of sight from the camera intersect with nearby objects. Unlike conventional rendering, when a ray of light hits an obstacle, path tracing simulates multiple additional bouncing rays which contribute light to the original point that was hit. Path tracing is able to faithfully reproduce many real-world phenomena, such as global illumination, depth of field, caustics, and a large variety of material properties. The recursive nature of path tracing, as well as the large number of simulated rays per pixel that are needed for smooth images, can make a naive implementation of a path tracer quite slow.</p><p><a href="/static/img/pathtracing/blockball09.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/blockball09_small.png"></a></p><p>My implementation of a path tracer is of the naive variety, and so it converges very slowly for scenes with very few, small, bright light sources (which unfortunately describes most natural scenes). Most of the images you'll see here are flooded with light and light-emitting surfaces, which converges more quickly and gives a delightfully other-wordly if not quite realistic look.</p><p>The simple representation of light rays bouncing off surfaces that path tracing uses makes it remarkably easy to implement a large number of pleasing optical effects with simple vector calculus, including</p><ul><li>Specular reflections</li><li>Diffuse reflections</li><li>Glossy reflections</li><li>Refraction</li><li>Caustics</li><li>Depth of field</li></ul><p>among others.</p><p>My pather tracer is designed to be fairly agnostic to the geometric representations of objects it's rendering, as long as one can find points of intersections with rays and surface normals. At the moment, rectangular prisms, spheres, triangles, and signed distance fields are implemented.</p><p>In natural scenes, most of the computation of a path tracer is wasted by naively gathering light rays from dark areas, without giving direct and indirect light sources the extra attention they deserve. Building a better path tracer requires a good understanding of efficient probabilistic sampling that still remains accurate (or "unbiased"). I may attempt this in the future. But in the meantime, here are some pretty pictures.</p><h2>Source Code</h2><p>The C++ implementation is available on <a href="https://github.com/timstr/pathtracer">GitHub</a>.</p></div></div></div><div class="section"><div class="section-heading"><div class="section-contents"><h2>Surface Materials</h2></div></div><div class="section-body"><div class="section-contents"><p>Whenever a ray hits a surface, the light that is seen along that ray is gathered from three different major sources:</p><ul><li>Light emitted by the surface itself, such as a light source or incandescing object</li><li>Rays that bounce off the surface and hit other light sources, which is reflection</li><li>Rays that pass through the surface before later leaving and hitting other light sources, which is refraction</li></ul><p>Just about any physical material can be described by how it transmits, reflects, and refracts light according to where the material was hit, what angle it was hit at, and where other light sources are located relatively.</p><p><a href="/static/img/pathtracing/spheres03.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/spheres03_small.png"></a></p><p>Specular (or shiny) surfaces reflect incoming rays perfectly, which creates a crisp and detailed reflection. Diffuse (or matte) surfaces will randomly bounce rays in many different directions, which creates smooth and gradual shading.</p><p><a href="/static/img/pathtracing/distantlight1.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/distantlight1_small.png"></a></p><p>Glossy materials produce a mixture of both specular and diffuse reflections. In the real world, glossy or diffuse materials often appear to become shinier at oblique angles. This easy to emulate in software, by attenuating the spread of diffuse reflections according to the incoming angle.</p><p><a href="/static/img/pathtracing/specvsangle2.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/specvsangle2_small.png"></a><a href="/static/img/pathtracing/specvsangle1.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/specvsangle1_small.png"></a></p><p>Refraction is also fairly easy to implement, simply by allowing ray intersections to work through the insides of obstacles. The amount that light rays are bent according to the indicies of refraction is easily implemented using Snell's law. Slight specular highlights can be obtained simply by randomly choosing some light rays to reflect while allowing the rest to refract.</p><p><a href="/static/img/pathtracing/refractionnoglass.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/refractionnoglass_small.png"></a><a href="/static/img/pathtracing/refraction.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/refraction_small.png"></a></p><p>Pictured above is a glass orb in front of a group of coloured glossy, glassy, and metallic spheres. The same spheres without the glass orb in front are pictured on the left for comparison. Note the inversion of features at the center of the image.</p></div></div></div><div class="section"><div class="section-heading"><div class="section-contents"><h2>Caustics</h2></div></div><div class="section-body"><div class="section-contents"><h2>What are caustics?</h2><p>Caustics are when light from a single source is concentrated in a small spot from reflections and refractions, rather than spreading out normally. Real-world examples include the patterns of light behind glasses of water, the spots of light from a disco ball, and the ripples of light under a wavy water surface.</p><p>In a path tracer, caustics are hard because they depend heavily on tiny light sources that are very difficult to hit with random sampling. They also depend on indirect and often convoluted sequences of light bounces, which makes reasoning about probabilistic sampling even more difficult. For these reason, they're often used as a sort of benchmark for how well a path tracer performs.</p><p><a href="/static/img/pathtracing/caustic.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/caustic_small.png"></a></p><p>As has previously been stated, my path tracer is a naive implementation. The above image of a sphere of glass focusing light onto a plane was rendered at 65,536 samples per pixel which took forever. For this reason, I am not attempting to do any other work producing caustics here.</p></div></div></div><div class="section"><div class="section-heading"><div class="section-contents"><h2>Signed Distance Fields</h2></div></div><div class="section-body"><div class="section-contents"><p>My path tracer allows simple geometric solids and signed distance fields to coexist in the same scene. Signed distance fields are fun because while they can describe simple shapes, they can also be used to render fractals, such as the mandelbulb, on the fly. Ray intersect tests are performed using ray marching, and surface normals are computed using finite differences. The same materials used on basic shapes above can also be used here, at no extra cost.</p><a href="/static/img/pathtracing/mandelbulbwhole.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/mandelbulbwhole_small.png"></a><a href="/static/img/pathtracing/mandelbulbtoplit.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/mandelbulbtoplit_small.png"></a><a href="/static/img/pathtracing/mandelbulbtopglass.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/mandelbulbtopglass_small.png"></a></div></div></div><div class="section"><div class="section-heading"><div class="section-contents"><h2>Fun/Weird Stuff</h2></div></div><div class="section-body"><div class="section-contents"><p>Here's a fractal made simply by placing shiny spheres right beside each other, next to some glowing and green and blue spheres.</p><p>(large image - 4.6 MB)</p><p><a href="/static/img/pathtracing/fractalreflections.png"><img class="lazyimage-container pieceicon-img" src="/static/img/pathtracing/fractalreflections_small.png"></a></p><p>And here's negative light in a Cornell box.</p><p><img class="bigimage-img" src="/static/img/pathtracing/negativelight.png"></p><p>On the top is a normal light source. When light rays hit the light source, their brightness increases. On the bottom is a negative light source (or "light sink") which decreases the amount of light returned by a bouncing light ray.</p><p>It makes no sense at all but the math is the same and it's fun to look at. Note the brighter shadows and brighter corners (negative ambient occlusion) near the bottom of the image.</p><p>Sorry it's small and grainy. This was also slow to render.</p></div></div></div><div class="section"><div class="section-heading"><div class="section-contents"><h2>More</h2></div></div><div class="section-body"><div class="section-contents"><p>More images are located in the <a href="/graphics/pathtracing/gallery.html">gallery</a></p></div></div></div><div class="section"><div class="section-heading"><div class="section-contents"><h2>Even More</h2></div></div><div class="section-body"><div class="section-contents"><p>Please write to me via <a href="mailto:straubinger.tim@gmail.com">straubinger.tim@gmail.com</a> and I will add more just for you</p></div></div></div><div class="section"><div class="section-heading"><div class="section-contents"><h2>Whoah Nice</h2></div></div><div class="section-body"><div class="section-contents"><p><img class="lazyimage-container" src="/static/img/pathtracing/bouncey2.gif"></p></div></div></div></div></div></div></div></div></body></html>